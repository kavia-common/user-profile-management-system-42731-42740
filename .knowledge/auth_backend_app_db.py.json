{"is_source_file": true, "format": "Python", "description": "This file sets up database connection handling, configuration, and session management for the application using SQLAlchemy. It defines data structures for configuration, initializes the database engine, and provides functions to initialize the database schema and acquire database sessions.", "external_files": ["sqlalchemy", "os"], "external_methods": ["sqlalchemy.create_engine", "sqlalchemy.orm.declarative_base", "sqlalchemy.orm.scoped_session", "sqlalchemy.orm.sessionmaker", "os.getenv"], "published": ["init_db", "get_db_session"], "classes": [{"name": "DbConfig", "description": "A frozen dataclass that holds the database URL configuration, defaulting to a local SQLite database if no environment variable is specified."}], "methods": [{"name": "str _default_db_url()", "description": "Returns a default SQLite database URL for local or containerized environments.", "scope": "", "scopeKind": ""}, {"name": "get_db_session()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None init_db()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["create_engine", "scoped_session", "sessionmaker", "Base.metadata.create_all", "os.getenv"], "search-terms": ["Database configuration", "SQLAlchemy session setup", "SQLite default path", "database engine initialization", "create database tables", "session management"], "state": 2, "file_id": 7, "knowledge_revision": 22, "git_revision": "f0d9d3cec907add6924050d28c05c726c5aa8880", "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DbConfig", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^class DbConfig:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionLocal", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^SessionLocal = scoped_session($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_db_config", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^_db_config = DbConfig(database_url=os.getenv(\"DATABASE_URL\", _default_db_url()))$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_default_db_url", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^def _default_db_url() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "engine", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^engine = create_engine($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_db_session", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^def get_db_session():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "init_db", "path": "/home/kavia/workspace/code-generation/user-profile-management-system-42731-42740/auth_backend/app/db.py", "pattern": "/^def init_db() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}], "hash": "14eaf852631cfd9fbcee7c55d57126e7", "format-version": 4, "code-base-name": "auth_backend", "filename": "auth_backend/app/db.py", "fields": [{"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SessionLocal = scoped_session(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_db_config = DbConfig(database_url=os.getenv(\"DATABASE_URL\", _default_db_url()))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "engine = create_engine(", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"22": "f0d9d3cec907add6924050d28c05c726c5aa8880"}]}